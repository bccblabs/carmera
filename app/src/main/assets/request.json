{    "aggs": {
        "years": {
            "terms": {
                "field": "year"
            },
            "aggs": {
                "makes": {
                    "terms": {
                        "field": "make"
                    },
                    "aggs": {
                        "models": {
                            "terms": {
                                "field": "model"
                            },
                            "aggs": {
                                "avg_mileage": {
                                    "avg": {
                                        "field": "mileage"
                                    }
                                },
                                "avg_offerPrice": {
                                    "avg": {
                                        "field": "dealerOfferPrice"
                                    }
                                },
                                "model_mileage_percentile": {
                                    "percentiles": {
                                        "field": "mileage",
                                        "percents": [
                                            1,
                                            6,
                                            11,
                                            16,
                                            21,
                                            26,
                                            31,
                                            36,
                                            41,
                                            46,
                                            51,
                                            56,
                                            61,
                                            66,
                                            71,
                                            76,
                                            81,
                                            86,
                                            91,
                                            96,
                                            97,
                                            98,
                                            99
                                        ]
                                    }
                                },
                                "model_price_percentile": {
                                    "percentiles": {
                                        "field": "dealerOfferPrice",
                                        "percents": [
                                            1,
                                            6,
                                            11,
                                            16,
                                            21,
                                            26,
                                            31,
                                            36,
                                            41,
                                            46,
                                            51,
                                            56,
                                            61,
                                            66,
                                            71,
                                            76,
                                            81,
                                            86,
                                            91,
                                            96,
                                            97,
                                            98,
                                            99
                                        ]
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
